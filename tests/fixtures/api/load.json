[

{
  "_name": "Properties (simple, valid)",

  "fixtures": {
    "forms": [{
      "meta": {
        "id": "form"
      },
      "fields": [{
        "id": "field",
        "type": "integer"
      }]
    }],
    "input": [
    ]
  },

  "expect": {
    "forms": {
      "valid": true,
      "result": [{
        "meta": {
          "id": "form",
          "name": { "un": "form" },
          "description": { "un": "form" }
        },
        "fields": [{
          "id": "field",
          "type": "integer",
          "name": { "un": "field" },
          "description": { "un": "field" },
          "repeat": false,
          "range": [ -1e9999, 1e9999 ],
          "length": [ 0, 1e9999 ],
          "required": false,
          "conditions": { "operator": "&&", "javascript": {}, "structured": {} },
          "validations": { "operator": "&&", "javascript": {}, "registered": {} }
        }]
      }]
    },
    "input": [
    ]
  }
},

{
  "_name": "Repeat (valid)",

  "fixtures": {
    "forms": [{
      "meta": {
        "id": "form"
      },
      "fields": [{
        "id": "field",
        "repeat": true,
        "type": "integer"
      }]
    }],
    "input": [
    ]
  },

  "expect": {
    "forms": {
      "valid": true,
      "result": [{
        "fields": [{
          "repeat": [ 0, 1e9999 ]
        }]
      }]
    },
    "input": [
    ]
  }
},

{
  "_name": "Repeat (required, valid)",

  "fixtures": {
    "forms": [{
      "meta": {
        "id": "form"
      },
      "fields": [{
        "id": "field",
        "repeat": true,
        "required": true,
        "type": "integer"
      }]
    }],
    "input": [
    ]
  },

  "expect": {
    "forms": {
      "valid": true,
      "result": [{
        "fields": [{
          "repeat": [ 1, 1e9999 ]
        }]
      }]
    },
    "input": [
    ]
  }
},

{
  "_name": "Repeat (string, invalid)",

  "fixtures": {
    "forms": [{
      "meta": {
        "id": "form"
      },
      "fields": [{
        "id": "field",
        "type": "integer",
        "repeat": "Testing"
      }]
    }],
    "input": [
    ]
  },

  "expect": {
    "forms": {
      "valid": false,
      "phase": "schema"
    },
    "input": [
    ]
  }
},

{
  "_name": "Repeat (negative, invalid)",

  "fixtures": {
    "forms": [{
      "meta": {
        "id": "form"
      },
      "fields": [{
        "id": "field",
        "type": "integer",
        "repeat": -1
      }]
    }],
    "input": [
    ]
  },

  "expect": {
    "forms": {
      "valid": false,
      "phase": "schema"
    },
    "input": [
    ]
  }
},

{
  "_name": "Repeat (negative array items, invalid)",

  "fixtures": {
    "forms": [{
      "meta": {
        "id": "form"
      },
      "fields": [{
        "id": "field",
        "type": "integer",
        "repeat": [ -2, -1 ]
      }]
    }],
    "input": [
    ]
  },

  "expect": {
    "forms": {
      "valid": false,
      "phase": "schema"
    },
    "input": [
    ]
  }
},

{
  "_name": "Identifiers (l10n, valid)",

  "fixtures": {
    "forms": [{
      "meta": {
        "id": "form",
        "language": "en",
        "description": "Example form"
      },
      "fields": [{
        "id": "f1",
        "type": "integer"
      }, {
        "id": "f2",
        "type": "number",
        "name": "second-field"
      }, {
        "id": "f3",
        "type": "string",
        "description": "Third field"
      }, {
        "id": "f4",
        "type": "timestamp",
        "name": "fourth-field",
        "description": "Fourth field"
      }, {
        "id": "f5",
        "type": "date",
        "name": { "en": "Hello", "fr": "Bonjour" }
      }, {
        "id": "f6",
        "type": "gps",
        "description": { "en": "Hello", "fr": "Bonjour" }
      }, {
        "id": "f7",
        "type": "image",
        "name": { "es": "Hola" },
        "description": { "fr": "Bonjour" }
      }]
    }],
    "input": [
    ]
  },

  "expect": {
    "forms": {
      "valid": true,
      "result": [{
        "meta": {
          "id": "form",
          "name": { "en": "form" },
          "description": { "en": "Example form" }
        },
        "fields": [{
          "name": { "en": "f1" },
          "description": { "en": "f1" }
        }, {
          "name": { "en": "second-field" },
          "description": { "en": "second-field" }
        }, {
          "name": { "en": "f3" },
          "description": { "en": "Third field" }
        }, {
          "name": { "en": "fourth-field" },
          "description": { "en": "Fourth field" }
        }, {
          "name": { "en": "Hello", "fr": "Bonjour" },
          "description": { "en": "Hello", "fr": "Bonjour" }
        }, {
          "name": { "en": "f6" },
          "description": { "en": "Hello", "fr": "Bonjour" }
        }, {
          "name": { "es": "Hola" },
          "description": { "fr": "Bonjour" }
        }]
      }]
    },
    "input": [
    ]
  }
},

{
  "_name": "Properties (multiple, valid)",

  "fixtures": {
    "forms": [{
      "meta": {
        "id": "form"
      },
      "fields": [
        {
          "id": "id",
          "type": "integer"
        },
        {
          "id": "name",
          "type": "string",
          "conditions": {
            "structured": {
              "some_radio_input": "yes"
            }
          }
        },
        {
          "id": "email",
          "type": "email"
        }
      ]
    }],
    "input": [
    ]
  },

  "expect": {
    "forms": {
      "valid": true,
      "result": [{
        "meta": {
          "id": "form",
          "name": { "un": "form" },
          "description": { "un": "form" }
        },
        "fields": [
          {
            "id": "id",
            "type": "integer",
            "name": { "un": "id" },
            "description": { "un": "id" },
            "repeat": false,
            "range": [ -1e9999, 1e9999 ],
            "length": [ 0, 1e9999 ],
            "required": false,
            "conditions": { "operator": "&&", "javascript": {}, "structured": {} },
            "validations": { "operator": "&&", "javascript": {}, "registered": {} }
          },
          {
            "id": "name",
            "type": "string",
            "name": { "un": "name" },
            "description": { "un": "name" },
            "repeat": false,
            "range": [ -1e9999, 1e9999 ],
            "length": [ 0, 1e9999 ],
            "required": false,
            "conditions": { "operator": "&&", "javascript": {}, "structured": {
              "some_radio_input": "yes"
            } },
            "validations": { "operator": "&&", "javascript": {}, "registered": {} }
          },
          {
            "id": "email",
            "type": "email",
            "name": { "un": "email" },
            "description": { "un": "email" },
            "repeat": false,
            "range": [ -1e9999, 1e9999 ],
            "length": [ 0, 1e9999 ],
            "required": false,
            "conditions": { "operator": "&&", "javascript": {}, "structured": {} },
            "validations": { "operator": "&&", "javascript": {}, "registered": {} }
          }
        ]
      }]
    },
    "input": [
    ]
  }
}

]
